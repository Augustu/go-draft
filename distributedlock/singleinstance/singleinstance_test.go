package singleinstance

import (
	"testing"
)

func TestLocker(t *testing.T) {
	// TODO fix ci redis, or find another way to test

	// var err error

	// key := "testkey"

	// err = Lock(key)
	// if err != nil {
	// 	t.Fail()
	// }

	// // try lock twice
	// err = Lock(key)
	// if err == nil {
	// 	t.Fail()
	// }

	// time.Sleep(5 * time.Second)

	// // try another lock
	// err = Lock(key)
	// if err == nil {
	// 	t.Fail()
	// }

	// err = Unlock(key)
	// if err != nil {
	// 	t.Fail()
	// }
}
